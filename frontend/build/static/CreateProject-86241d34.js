import{s as w,i as B,f as L,at as O,X as U,au as x,ag as D,av as F,aw as J,j as t,ax as b,d as K,ay as $,az as z,aA as M,aB as q,h as G,aC as X}from"./index-4f80e427.js";const Y="CREATE_PROJECT_BTN",H=w(B)(({theme:e})=>({marginLeft:e.spacing(3)})),ee=()=>{const{setToastData:e,setToastApiError:i}=L(),{refetchUser:d}=O(),{uiConfig:l}=U(),a=x(),{trackEvent:u}=D(),{projectId:o,projectName:j,projectMode:p,projectDesc:m,featureLimit:C,setProjectId:P,setProjectName:h,setProjectDesc:T,getProjectPayload:s,clearErrors:r,validateProjectId:c,validateName:f,setProjectStickiness:g,setFeatureLimit:E,setProjectMode:A,projectStickiness:n,errors:y}=F(),{createProject:_,loading:N}=J();return t(b,{loading:N,title:"Create project",description:"Projects allows you to group feature toggles together in the management UI.",documentationLink:"https://docs.getunleash.io/reference/projects",documentationLinkLabel:"Projects documentation",formatApiCode:()=>`curl --location --request POST '${l.unleashUrl}/api/admin/projects' \\
--header 'Authorization: INSERT_API_KEY' \\
--header 'Content-Type: application/json' \\
--data-raw '${JSON.stringify(s(),void 0,2)}'`,children:K($,{errors:y,handleSubmit:async S=>{S.preventDefault(),r();const v=f(),k=await c();if(v&&k){const I=s();try{await _(I),d(),a(`/projects/${o}`),e({title:"Project created",text:"Now you can add toggles to this project",confetti:!0,type:"success"}),n!==q&&u("project_stickiness_set")}catch(R){i(G(R))}}},projectId:o,setProjectId:P,projectName:j,projectMode:p,projectStickiness:n,featureLimit:C,setProjectStickiness:g,setFeatureLimit:E,setProjectMode:A,setProjectName:h,projectDesc:m,setProjectDesc:T,mode:"Create",clearErrors:r,validateProjectId:c,children:[t(z,{name:"project",permission:M,"data-testid":Y}),t(H,{onClick:()=>{a(X)},children:"Cancel"})]})})};export{ee as default};
